## 自述文件

# 访问地址

http://huangjiangjun.top/webmusic-vue3

# 技术栈

- Vue
- @ vue / composition-api
- Vue路由器
- 威克斯
- 轴距
- 元素用户界面
- 时刻
- 节点ass
- 萨斯装载机
- babel-plugin-component

# 连接文档

http://huangjiangjun.top:9000/

## 基地址

> 配置到本地，或者使用线上接口

1. 本地基地址：[http：// localhost：3000](http://localhost:3000/)
2. 网上地址：[http](http://huangjiangjun.top:9000/) ://huangjiangjun.top: [9000/](http://huangjiangjun.top:9000/)

## 首页-轮播图

### 接口

旗帜

说明：调用此接口，可获取banner（轮播图）数据

**可选参数：**

`type`：资源类型，对应以下类型，默认为0即PC

```
0: pc

1: android

2: iphone

3: ipad
```

**接口地址：** `/banner`

**所谓的例子：** `/banner`，`/banner?type=2`

## 首页-推荐歌单

### 接口

说明：调用此接口，可获取推荐歌单

**可选参数：：** `limit`取出数量，默认为30（不支持offset）

**接口地址：** `/personalized`

**称为例子：** `/personalized?limit=1`

## 首页-推荐音乐

说明：调用此接口，可获取推荐新音乐

**接口地址：** `/personalized/newsong`

**称为例子：** `/personalized/newsong`

## 首页-推荐MV

说明：调用此接口，可获取推荐mv

**接口地址：** `/personalized/mv`

**称为例子：** `/personalized/mv`

## 首页-播放歌曲

说明：调用此接口，引入音乐id（支持多个id，使用`,`替换），引入歌曲详情（注意：歌曲封面现在需要通过专辑内容接口获取）

**必选参数：：** `ids`音乐id，如`ids=347230`

**接口地址：** `/song/detail`

**所谓的例子：** `/song/detail?ids=347230`，`/song/detail?ids=347230,347231`

## 首页-逐步歌单详情页

> 路由转发，携带id

## 歌单详情-信息

**必选参数** `id`：：歌单id

**可选参数：：** `s`歌单最近的s一个收藏者

**接口地址：** `/playlist/detail`

**称为例子：** `/playlist/detail?id=24381616`

## 歌单详情-热门评论

说明：调用此接口，插入类型，资源id替换对应资源热门评论（不需要登录）

**必选参数：**

`id` ：资源ID

`tpye`：数字，资源类型，对应歌曲，mv，专辑，歌单，电台，视频对应以下类型

```
0: 歌曲

1: mv

2: 歌单

3: 专辑

4: 电台

5: 视频
```

**可选参数：：** `limit`收回评论数量，默认为20

`offset`：更改数量，用于分页，如:(评论页数-1）* 20，其中20为limit的值

`before`：分页参数，取上一页最后一个的`time`获取下一页数据（获取超过5000条评论的时候需要用到）

**接口地址：** `/comment/hot`

**称为例子：** `/comment/hot?id=186016&type=0`

## 歌单详情-评论信息

说明：调用此接口，加入音乐id和limit参数，可以通过该歌单的所有评论（不需要登录）

**必选参数** `id`：：歌单id

**可选参数：：** `limit`收回评论数量，默认为20

`offset`：更改数量，用于分页，如:(评论页数-1）* 20，其中20为limit的值

`before`：分页参数，取上一页最后一个的`time`获取下一页数据（获取超过5000条评论的时候需要用到）

**接口地址：** `/comment/playlist`

**称为例子：** `/comment/playlist?id=705123491`

## 首页-投放到MV详情页

## MV详情-mv地址

说明：调用此接口，启用mv id，可获取mv播放地址

**可选参数** `id`：：MV ID

**接口地址：** `/mv/url`

**称为例子：**

```
/mv/url?id=5436712
```

## MV详情-推荐MV

说明：调用此接口，引入`mvid`可获取相似mv

**必选参数** `mvid`：：MV ID

**接口地址：** `/simi/mv`

**称为例子：** `/simi/mv?mvid=5436712`

## MV详情-评论

说明：调用此接口，引入音乐id和limit参数，可以通过该mv的所有评论（不需要登录）

**必选参数** `id`：：MV ID

**可选参数：：** `limit`收回评论数量，默认为20

`offset`：更改数量，用于分页，如:(评论页数-1）* 20，其中20为limit的值

`before`：分页参数，取上一页最后一个的`time`获取下一页数据（获取超过5000条评论的时候需要用到）

**接口地址：** `/comment/mv`

**称为例子：** `/comment/mv?id=5436712`

## MV详情-MV信息

说明：调用此接口，插入mvid（在搜索音乐的时候传type = 1004获得），可获取对应的MV数据，数据包含mv名称，歌手，发布时间，mv视频地址等数据，其中mv视频网易做到防盗链处理，可能不能直接播放，需要播放的话需要调用'mv地址'接口

**必选参数** `mvid`：：mv的id

**接口地址：** `/mv/detail`

**称为例子：** `/mv/detail?mvid=5436712`

## MV详情-歌手信息

说明：调用此接口，引入歌手id，纳入歌手部分信息和热门歌曲

**必选参数：：** `id`歌手ID，可以通过搜索接口获得

**接口地址：** `/artists`

**称为例子：** `/artists?id=6452`

## MV详情-点击右侧切换

## 歌单列表-精品歌单

说明：调用此接口，可获取精品歌单

**可选参数：**

1. `limit`：取出歌单数量，默认为20
2. `cat`：歌单的标签，任选值如下

```
全部
欧美
华语
流行
说唱
摇滚
民谣
电子
轻音乐
影视原声
ACG
怀旧
治愈
旅行
```

**接口地址：** `/top/playlist/highquality`

**称为例子：** `http://localhost:3000/top/playlist/highquality?before=1503639064232&limit=3`

## 歌单列表-全部歌单

说明：调用此接口，可获取网友精选碟歌单

**可选参数：**

1. `order`：可选变量'new'和'hot'，分别对应最新和最热，默认为'hot'
2. `limit`：获取的个数
3. `offset`：分割数量，用于分页，如:(页数-1）* 20，其中20为limit的值
4. `cat`：歌单的标签，可选值如下

```
全部
欧美
华语
流行
说唱
摇滚
民谣
电子
轻音乐
影视原声
ACG
怀旧
治愈
旅行
```

**接口地址：** `/top/playlist`

**称为例子：** `/top/playlist?limit=10&order=new`

## 新歌-新歌速递

说明：调用此接口，可获取新歌速递

**必选参数：**

`type`：地区类型ID，对应以下：

```
全部:0

华语:7

欧美:96

日本:8

韩国:16
```

**接口地址：** `/top/song`

**称为例子：** `/top/song?type=96`

## 新歌-点击播放

和首页的点击播放一样

## 全部MV-全部MV

说明：调用此接口，可获取全部mv

**可选参数：**

1. `area`：地区，任选可能：全部，内地，港台，欧美，日本，韩国，不填则为全部
2. `type`：类型，可选范围：全部，官方版，原生，现场版，网易出品，不填则为全部
3. `order`：排序，任意预期：上升加速度，最热，最新，不填则为上升速度
4. `limit`：提取数量，默认为30
5. `offset`：分割数量，用于分页，如:(页数-1）* 50，其中50为limit的值，默认为0

**接口地址：** `/mv/all`

**称为例子：** `/mv/all?area=港台`

## 搜索-点击刷新

> 非空判断，不为空加速去搜索页

.native关键字

## 搜索-类别搜索

说明：调用此接口，引入搜索关键字可以搜索该音乐/专辑/歌手/歌单/用户，可以进行多个，以空格替换，如“周杰伦搁浅”（不需要登录），搜索获取的mp3url不能直接用，可通过`/song/url`接口串联歌曲id获取具体的播放链接

**必选参数** `keywords`：：关键词

**可选参数：**

1. `limit` ：返回数量，默认为30
2. `offset` ：换算数量，用于分页，如：如:(页数-1）* 30，其中30为limit的值，默认为0
3. `type`：搜索类型；默认为1即单曲，取值意义：如下

```
歌曲:1
歌单:1000
MV:1004
```

**接口地址：** `/search`

**称为例子：** `/search?keywords= 海阔天空`